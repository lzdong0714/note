<mxfile host="www.draw.io" modified="2019-11-19T01:54:27.423Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36" etag="IaOZ4uZu4T3HZt37FZw9" version="12.2.6" type="github" pages="1">
  <diagram id="NZ1MvinwC9dphN5qzvx4" name="Page-1">
    <mxGraphModel dx="1026" dy="604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="EbfM9CHVRym8zktASDZ2-1" value="&lt;p class=&quot;MsoNormal&quot;&gt;&lt;span style=&quot;font-size: 10.5000pt&quot;&gt;&lt;font face=&quot;等线&quot;&gt;使用&lt;/font&gt;Spring&lt;/span&gt;&lt;span style=&quot;font-size: 10.5000pt&quot;&gt;&amp;nbsp;Security&lt;/span&gt;&lt;span style=&quot;font-size: 10.5000pt&quot;&gt;作为系统安全管理框架，使用&lt;/span&gt;&lt;span style=&quot;font-size: 10.5000pt&quot;&gt;OAuth2&lt;/span&gt;&lt;span style=&quot;font-size: 10.5000pt&quot;&gt;认证、授权协议，使用&lt;/span&gt;&lt;span style=&quot;font-size: 10.5000pt&quot;&gt;JWT&lt;/span&gt;&lt;span style=&quot;font-size: 10.5000pt&quot;&gt;&lt;font face=&quot;等线&quot;&gt;格式的访问令牌。构建&lt;/font&gt;SSO单点登录服务。&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="60" width="400" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-30" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.215;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="EbfM9CHVRym8zktASDZ2-14" target="EbfM9CHVRym8zktASDZ2-17">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-14" value="Resource Owner&lt;br&gt;用户" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="550" y="160" width="200" height="130" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-38" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.993;entryY=0.523;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="EbfM9CHVRym8zktASDZ2-15" target="EbfM9CHVRym8zktASDZ2-17">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-15" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="570" y="330" width="200" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-41" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.867;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="EbfM9CHVRym8zktASDZ2-16" target="EbfM9CHVRym8zktASDZ2-17">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-16" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="570" y="470" width="210" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-40" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.993;exitY=0.769;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="EbfM9CHVRym8zktASDZ2-17" target="EbfM9CHVRym8zktASDZ2-16">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-17" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="185" width="150" height="415" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-18" value="Client" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="145" y="200" width="40" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-19" value="仪器，海纳云用户" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="610" y="250" width="100" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-20" value="Authentication Server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="590" y="340" width="140" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-24" value="Resource Server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="600" y="480" width="110" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-25" value="海纳云小程序" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="130" y="280" width="90" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-26" value="海纳云页面" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="137.5" y="327.5" width="75" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-27" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.103;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="EbfM9CHVRym8zktASDZ2-17" target="EbfM9CHVRym8zktASDZ2-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="230" as="sourcePoint"/>
            <mxPoint x="400" y="180" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-28" value="1 Authorization Request" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="360" y="190" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-31" value="2 Authorization Grant + code" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="310" y="250" width="180" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-32" value="海纳云授权服务器" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="610" y="370" width="100" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-33" value="微信，QQ授权服务器" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="610" y="400" width="120" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-34" value="海纳云资源" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="620" y="530" width="100" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-35" value="微信，QQ资源？？" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="615" y="560" width="120" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-36" value="" style="endArrow=classic;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" target="EbfM9CHVRym8zktASDZ2-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="252" y="355" as="sourcePoint"/>
            <mxPoint x="400" y="350" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-37" value="3 Authorization Grant + code" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="346" y="328" width="174" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-39" value="4 Access Token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="346" y="380" width="174" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-44" value="4 Access Token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="300" y="480" width="174" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-45" value="5 Obtain Resource" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="310" y="550" width="174" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-46" value="Access Token" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="110" y="670" width="110" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-47" value="JWT" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="300" y="670" width="40" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-49" value="" style="endArrow=classic;startArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="EbfM9CHVRym8zktASDZ2-46" target="EbfM9CHVRym8zktASDZ2-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="680" as="sourcePoint"/>
            <mxPoint x="290" y="630" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-55" value="&lt;div&gt;@Configuration&lt;/div&gt;&lt;div&gt;@EnableAuthorizationServer&lt;/div&gt;&lt;div&gt;public class CustomAuthenticationServerConfig extends AuthorizationServerConfigurerAdapter&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="880" y="305" width="240" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="EbfM9CHVRym8zktASDZ2-56" value="&lt;div&gt;@Configuration&lt;/div&gt;&lt;div&gt;@EnableResourceServer&lt;/div&gt;&lt;div&gt;public class CustomResourceServerConfig extends ResourceServerConfigurerAdapter&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="890" y="500" width="240" height="90" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
